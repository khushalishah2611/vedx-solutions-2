generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

/// ----------------------------------------------------------
/// ENUMS
/// ----------------------------------------------------------
enum BannerType {
  HOME
  ABOUT
  BLOGS
  CONTACT
  CAREER
}

enum AdminRole {
  SUPER_ADMIN
  EDITOR
  ANALYST
}

enum AdminStatus {
  ACTIVE
  SUSPENDED
}

enum PublishStatus {
  DRAFT
  REVIEW
  PUBLISHED
}

enum EmploymentType {
  FULL_TIME
  PART_TIME
  CONTRACT
  INTERN
}

/// ----------------------------------------------------------
/// DASHBOARD BANNER
/// ----------------------------------------------------------
model Banner {
  id        Int          @id @default(autoincrement())
  title     String
  type      BannerType
  /// Non-home banners (about/blogs/contact/career) ek image
  imageUrl  String?  @db.LongText
  /// Home banner mate multiple images
  images    BannerImage[]

  createdAt DateTime     @default(now())
  updatedAt DateTime     @updatedAt
}

model BannerImage {
  id        Int      @id @default(autoincrement())
  bannerId  Int
  banner    Banner   @relation(fields: [bannerId], references: [id], onDelete: Cascade)

  imageUrl  String @db.LongText
  sortOrder Int      @default(0)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([bannerId])
}

/// ----------------------------------------------------------
/// PROCESS TAB (steps)
/// ----------------------------------------------------------
model ProcessStep {
  id          Int      @id @default(autoincrement())
  title       String
  description String?
  imageUrl    String?  @db.LongText

  sortOrder   Int      @default(0)
  isActive    Boolean  @default(true)

  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

/// ----------------------------------------------------------
/// OUR SERVICES – SLIDERS + SERVICE CARDS
/// ----------------------------------------------------------
model ServiceSlider {
  id                Int           @id @default(autoincrement())
  sliderTitle       String
  sliderDescription String?
  sliderImageUrl    String?  @db.LongText

  services          ServiceCard[]

  isActive          Boolean       @default(true)
  createdAt         DateTime      @default(now())
  updatedAt         DateTime      @updatedAt
}

model ServiceCard {
  id           Int           @id @default(autoincrement())
  title        String
  subtitle     String?
  description  String?
  imageUrl     String?  @db.LongText

  sliderId     Int
  slider       ServiceSlider @relation(fields: [sliderId], references: [id], onDelete: Cascade)

  sortOrder    Int           @default(0)
  isFeatured   Boolean       @default(false)

  createdAt    DateTime      @default(now())
  updatedAt    DateTime      @updatedAt

  @@index([sliderId])
}

/// ----------------------------------------------------------
/// INDUSTRIES WE SERVE
/// ----------------------------------------------------------
model IndustriesConfig {
  id          Int        @id @default(autoincrement())
  title       String
  description String?

  items       Industry[]

  createdAt   DateTime   @default(now())
  updatedAt   DateTime   @updatedAt
}

model Industry {
  id          Int              @id @default(autoincrement())
  sectionId   Int
  section     IndustriesConfig @relation(fields: [sectionId], references: [id], onDelete: Cascade)

  title       String
  description String?
  imageUrl    String?  @db.LongText

  sortOrder   Int        @default(0)
  isActive    Boolean    @default(true)

  createdAt   DateTime   @default(now())
  updatedAt   DateTime   @updatedAt

  @@unique([sectionId, title])
  @@index([sectionId])
}

/// ----------------------------------------------------------
/// TECH SOLUTIONS FOR ALL BUSINESS TYPES
/// ----------------------------------------------------------
model TechSolutionsConfig {
  id          Int            @id @default(autoincrement())
  title       String
  description String?

  solutions   TechSolution[]

  createdAt   DateTime       @default(now())
  updatedAt   DateTime       @updatedAt
}

model TechSolution {
  id          Int                 @id @default(autoincrement())
  sectionId   Int
  section     TechSolutionsConfig @relation(fields: [sectionId], references: [id], onDelete: Cascade)

  title       String
  description String?

  sortOrder   Int          @default(0)
  isActive    Boolean      @default(true)

  createdAt   DateTime     @default(now())
  updatedAt   DateTime     @updatedAt

  @@index([sectionId])
}

/// ----------------------------------------------------------
/// EXPERTISE MODELS
/// ----------------------------------------------------------
model ExpertiseConfig {
  id          Int            @id @default(autoincrement())
  title       String
  description String?

  items       ExpertiseItem[]

  createdAt   DateTime       @default(now())
  updatedAt   DateTime       @updatedAt
}

model ExpertiseItem {
  id          Int             @id @default(autoincrement())
  sectionId   Int
  section     ExpertiseConfig @relation(fields: [sectionId], references: [id], onDelete: Cascade)

  title       String
  description String?  
  imageUrl    String?  @db.LongText

  sortOrder   Int        @default(0)
  isActive    Boolean    @default(true)

  createdAt   DateTime   @default(now())
  updatedAt   DateTime   @updatedAt

  @@index([sectionId])
}

/// ----------------------------------------------------------
/// ADMIN + SESSIONS
/// ----------------------------------------------------------
model AdminUser {
  id           Int            @id @default(autoincrement())
  email        String         @unique
  passwordHash String
  name         String
  role         AdminRole      @default(EDITOR)
  status       AdminStatus    @default(ACTIVE)
  sessions     AdminSession[]

  createdAt    DateTime       @default(now())
  updatedAt    DateTime       @updatedAt
}

model AdminSession {
  id        Int       @id @default(autoincrement())
  token     String    @unique
  adminId   Int
  admin     AdminUser @relation(fields: [adminId], references: [id], onDelete: Cascade)

  expiresAt DateTime
  createdAt DateTime  @default(now())

  @@index([adminId])
}

/// ----------------------------------------------------------
/// NAVIGATION + SEO
/// ----------------------------------------------------------
model NavigationItem {
  id        Int              @id @default(autoincrement())
  label     String
  path      String
  slug      String           @unique
  visible   Boolean          @default(true)
  order     Int              @default(0)

  parentId  Int?
  parent    NavigationItem?  @relation("NavigationHierarchy", fields: [parentId], references: [id], onDelete: SetNull)
  children  NavigationItem[] @relation("NavigationHierarchy")

  seo       PageSeo?

  @@index([parentId])
}

model PageSeo {
  id              Int             @id @default(autoincrement())
  pageKey         String          @unique
  metaTitle       String
  metaDescription String?
  keywords        String?
  ogImage         String?
  canonicalUrl    String?
  noIndex         Boolean         @default(false)

  navigationId    Int?            @unique
  navigation      NavigationItem? @relation(fields: [navigationId], references: [id], onDelete: SetNull)

  createdAt       DateTime        @default(now())
  updatedAt       DateTime        @updatedAt
}

/// ----------------------------------------------------------
/// SERVICES (Category/Subcategory/Service)
/// ----------------------------------------------------------
model ServiceCategory {
  id            Int                  @id @default(autoincrement())
  name          String
  slug          String               @unique
  description   String?

  createdAt     DateTime             @default(now())
  updatedAt     DateTime             @updatedAt

  subCategories ServiceSubCategory[]
}

model ServiceSubCategory {
  id          Int             @id @default(autoincrement())
  name        String
  slug        String          @unique
  description String?

  categoryId  Int
  category    ServiceCategory @relation(fields: [categoryId], references: [id], onDelete: Cascade)

  createdAt   DateTime        @default(now())
  updatedAt   DateTime        @updatedAt

  services    Service[]

  @@index([categoryId])
}

model Service {
  id            Int                 @id @default(autoincrement())
  title         String
  slug          String              @unique
  summary       String?
  imageUrl      String?  @db.LongText
  tags          Json?

  subCategoryId Int?
  subCategory   ServiceSubCategory? @relation(fields: [subCategoryId], references: [id], onDelete: SetNull)

  createdAt     DateTime            @default(now())
  updatedAt     DateTime            @updatedAt

  @@index([subCategoryId])
}

/// ----------------------------------------------------------
/// BLOG
/// ----------------------------------------------------------
model BlogCategory {
  id        Int        @id @default(autoincrement())
  name      String     @unique
  createdAt DateTime   @default(now())
  updatedAt DateTime   @updatedAt
  posts     BlogPost[]
}

model BlogPost {
  id           Int          @id @default(autoincrement())
  title        String
  slug         String       @unique
  summary      String?
  shortDescription String?
  longDescription  String?
  content      String       @db.LongText
  coverImage   String? @db.LongText
  blogImage    String? @db.LongText
  author       String?
  status       PublishStatus @default(DRAFT)
  publishedAt  DateTime?
  tags         Json?

  categoryId   Int?
  category     BlogCategory? @relation(fields: [categoryId], references: [id], onDelete: SetNull)

  createdAt    DateTime     @default(now())
  updatedAt    DateTime     @updatedAt

  @@index([categoryId])
}

/// ----------------------------------------------------------
/// CAREER
/// ----------------------------------------------------------
model CareerOpening {
  id               Int              @id @default(autoincrement())
  title            String
  slug             String           @unique
  position         String?
  location         String?
  department       String?
  experience       String?
  employmentType   EmploymentType   @default(FULL_TIME)
  postedOn         DateTime?        @default(now())
  imageUrl         String? @db.LongText
  description      String?
  requirements     Json?
  isRemoteFriendly Boolean          @default(true)
  isOpen           Boolean          @default(true)

  applications     CareerApplication[]

  createdAt        DateTime         @default(now())
  updatedAt        DateTime         @updatedAt
}

model CareerApplication {
  id             Int             @id @default(autoincrement())
  name           String
  email          String
  contact        String?
  experience     String?
  employmentType EmploymentType  @default(FULL_TIME)
  appliedOn      DateTime?       @default(now())
  resumeUrl      String?
  notes          String?

  jobId          Int?
  job            CareerOpening?  @relation(fields: [jobId], references: [id], onDelete: SetNull)

  createdAt      DateTime        @default(now())
  updatedAt      DateTime        @updatedAt

  @@index([jobId])
}

/// ----------------------------------------------------------
/// CONTACT + PROJECT TYPES + FEEDBACK
/// ----------------------------------------------------------
model ContactMessage {
  id          Int      @id @default(autoincrement())
  name        String
  email       String
  phone       String?
  countryCode String?
  contactType String?
  projectType String?
  description String?
  subject     String?
  message     String?
  status      String   @default("New")

  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model ProjectType {
  id        Int      @id @default(autoincrement())
  name      String   @unique
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model ClientFeedback {
  id        Int      @id @default(autoincrement())
  client    String
  role      String?
  quote     String   @db.Text
  highlight String?
  rating    Int?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

/// ----------------------------------------------------------
/// HIRE CATEGORY / ROLE
/// ----------------------------------------------------------
model HireCategory {
  id          Int        @id @default(autoincrement())
  title       String
  slug        String     @unique
  description String?
  roles       HireRole[]

  createdAt   DateTime   @default(now())
  updatedAt   DateTime   @updatedAt
}

model HireRole {
  id             Int          @id @default(autoincrement())
  title          String
  slug           String       @unique
  description    String?

  hireCategoryId Int
  hireCategory   HireCategory @relation(fields: [hireCategoryId], references: [id], onDelete: Cascade)

  createdAt      DateTime     @default(now())
  updatedAt      DateTime     @updatedAt

  @@index([hireCategoryId])
}

/// ----------------------------------------------------------
/// OTP
/// ----------------------------------------------------------
model OtpVerification {
  id         Int      @id @default(autoincrement())
  email      String
  code       String
  expiresAt  DateTime
  verifiedAt DateTime?

  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt

  @@index([email])
}

/// ----------------------------------------------------------
/// SERVICE MENU (your CMS service pages)
/// ----------------------------------------------------------
model ServiceMenu {
  id             Int                      @id @default(autoincrement())
  category       String
  bannerTitle    String
  bannerSubtitle String
  bannerImage    String @db.LongText
  totalServices  Int                      @default(0)
  totalProjects  Int                      @default(0)
  totalClients   Int                      @default(0)
  description    String?

  subcategories  ServiceMenuSubcategory[]
  faqs           ServiceMenuFaq[]
  processes      ServiceProcess[]

  createdAt      DateTime                 @default(now())
  updatedAt      DateTime                 @updatedAt

  @@index([category])
}

model ServiceMenuSubcategory {
  id        Int        @id @default(autoincrement())
  name      String

  serviceId Int
  service   ServiceMenu @relation(fields: [serviceId], references: [id], onDelete: Cascade)

  createdAt DateTime   @default(now())
  updatedAt DateTime   @updatedAt

  @@index([serviceId])
}

model ServiceMenuFaq {
  id        Int        @id @default(autoincrement())
  question  String
  answer    String

  serviceId Int
  service   ServiceMenu @relation(fields: [serviceId], references: [id], onDelete: Cascade)

  createdAt DateTime   @default(now())
  updatedAt DateTime   @updatedAt

  @@index([serviceId])
}

/// ----------------------------------------------------------
/// TECHNOLOGIES + BENEFITS
/// ----------------------------------------------------------
model Technology {
  id          Int      @id @default(autoincrement())
  category    String
  subcategory String?
  title       String
  image       String @db.LongText
  items       Json     // MySQL: use Json instead of String[]

  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@index([category, subcategory])
}

model Benefit {
  id          Int      @id @default(autoincrement())
  title       String
  category    String?
  subcategory String?
  description String   @db.Text
  image       String @db.LongText

  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@index([category, subcategory])
}

/// ----------------------------------------------------------
/// PER-SERVICE PROCESS STEPS
/// ----------------------------------------------------------
model ServiceProcess {
  id          Int        @id @default(autoincrement())
  title       String
  description String     @db.Text
  category    String
  subcategory String?
  image String @db.LongText

  serviceId   Int?
  service     ServiceMenu? @relation(fields: [serviceId], references: [id], onDelete: SetNull)

  createdAt   DateTime   @default(now())
  updatedAt   DateTime   @updatedAt

  @@index([category, subcategory])
  @@index([serviceId])
}

/// ----------------------------------------------------------
/// HIRE DEVELOPERS (Landing section) - old set
/// ----------------------------------------------------------
model HireDeveloper {
  id          Int          @id @default(autoincrement())
  title       String
  description String      @db.Text
  heroImage   String      @db.LongText

  services    HireService[]

  createdAt   DateTime     @default(now())
  updatedAt   DateTime     @updatedAt
}

model HireService {
  id             Int           @id @default(autoincrement())
  category       String
  subcategory    String?
  title          String
  description    String        @db.Text
  image          String        @db.LongText

  hireDeveloperId Int?
  hireDeveloper   HireDeveloper? @relation(fields: [hireDeveloperId], references: [id], onDelete: SetNull)

  createdAt      DateTime      @default(now())
  updatedAt      DateTime      @updatedAt

  @@index([category, subcategory])
  @@index([hireDeveloperId])
}

/// ----------------------------------------------------------
/// WHY CHOOSE THIS SERVICE
/// ----------------------------------------------------------
model WhyChoose {
  id               Int          @id @default(autoincrement())
  heroTitle        String
  heroDescription  String       @db.Text
  heroImage        String      @db.LongText
  tableTitle       String
  tableDescription String       @db.Text

  services         WhyService[]

  createdAt        DateTime     @default(now())
  updatedAt        DateTime     @updatedAt
}

model WhyService {
  id          Int       @id @default(autoincrement())
  category    String
  subcategory String?
  title       String
  description String    @db.Text

  whyChooseId Int?
  whyChoose   WhyChoose? @relation(fields: [whyChooseId], references: [id], onDelete: SetNull)

  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  @@index([category, subcategory])
  @@index([whyChooseId])
}

/// ----------------------------------------------------------
/// WHY VEDX SOLUTIONS
/// ----------------------------------------------------------
model WhyVedx {
  id              Int             @id @default(autoincrement())
  heroTitle       String
  heroDescription String          @db.Text
  heroImage       String   @db.LongText

  reasons         WhyVedxReason[]

  createdAt       DateTime        @default(now())
  updatedAt       DateTime        @updatedAt
}

model WhyVedxReason {
  id        Int       @id @default(autoincrement())
  title     String
  description String  @db.Text
  image     String @db.LongText

  whyVedxId Int?
  whyVedx   WhyVedx?  @relation(fields: [whyVedxId], references: [id], onDelete: SetNull)

  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  @@index([whyVedxId])
}

/// ----------------------------------------------------------
/// HIRE DEVELOPER – NEW TABLES (Mongo style converted to MySQL)
/// ----------------------------------------------------------
model HireDeveloperService {
  id             Int      @id @default(autoincrement())
  category       String
  subcategories  Json     // Array of {name: string}
  bannerTitle    String?
  bannerSubtitle String?
  bannerImage    String?  @db.LongText
  totalServices  Int      @default(0)
  totalProjects  Int      @default(0)
  totalClients   Int      @default(0)
  description    String?  @db.Text
  faqs           Json?    // Array of {id, question, answer}

  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt

  @@map("hire_developer_services")
}

model HireDeveloperTechnology {
  id          Int      @id @default(autoincrement())
  category    String
  subcategory String?
  title       String 
  image       String @db.LongText
  items       Json     // Array of strings

  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("hire_developer_technologies")
}

model HireDeveloperBenefit {
  id          Int      @id @default(autoincrement())
  title       String
  category    String?
  subcategory String?
  description String?  @db.Text
  image       String @db.LongText

  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("hire_developer_benefits")
}

model HireDeveloperPricing {
  id              Int      @id @default(autoincrement())
  title           String
  subtitle        String?
  description     String?  @db.Text
  price           String
  services        Json?    // Array of strings

  heroTitle       String?
  heroDescription String?  @db.Text
  heroImage       String?  @db.LongText

  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  @@map("hire_developer_pricing")
}

model HireDeveloperHireService {
  id              Int      @id @default(autoincrement())
  category        String
  subcategory     String?
  title           String
  description     String?  @db.Text
  image           String @db.LongText

  heroTitle       String?
  heroDescription String?  @db.Text
  heroImage       String? @db.LongText

  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  @@map("hire_developer_hire_services")
}

model HireDeveloperProcess {
  id          Int      @id @default(autoincrement())
  title       String
  description String?  @db.Text
  category    String
  subcategory String
  image       String @db.LongText

  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("hire_developer_process")
}

model HireDeveloperWhyVedx {
  id              Int      @id @default(autoincrement())
  title           String
  description     String?  @db.Text
  image           String @db.LongText

  heroTitle       String?
  heroDescription String?  @db.Text
  heroImage       String?  @db.LongText

  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  @@map("hire_developer_why_vedx")
}

model HireDeveloperWhyChoose {
  id               Int      @id @default(autoincrement())
  category         String
  subcategory      String?
  title            String
  description      String?  @db.Text

  heroTitle        String?
  heroDescription  String?  @db.Text
  heroImage        String?  @db.LongText

  tableTitle       String?
  tableDescription String?  @db.Text

  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt

  @@map("hire_developer_why_choose")
}

model HireDeveloperIndustry {
  id                 Int      @id @default(autoincrement())
  title              String
  description        String?  @db.Text
  image              String @db.LongText

  sectionTitle       String?
  sectionDescription String?  @db.Text

  createdAt          DateTime @default(now())
  updatedAt          DateTime @updatedAt

  @@map("hire_developer_industries")
}

model HireDeveloperTechSolution {
  id                 Int      @id @default(autoincrement())
  title              String
  description        String?  @db.Text

  sectionTitle       String?
  sectionDescription String?  @db.Text

  createdAt          DateTime @default(now())
  updatedAt          DateTime @updatedAt

  @@map("hire_developer_tech_solutions")
}

model HireDeveloperExpertise {
  id                 Int      @id @default(autoincrement())
  title              String
  description        String?  @db.Text
  image              String @db.LongText

  sectionTitle       String?
  sectionDescription String?  @db.Text

  createdAt          DateTime @default(now())
  updatedAt          DateTime @updatedAt

  @@map("hire_developer_expertise")
}

model HireDeveloperOurService {
  id                Int      @id @default(autoincrement())
  title             String
  image             String @db.LongText

  sliderTitle       String?
  sliderDescription String?  @db.Text
  sliderImage       String? @db.LongText

  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt

  @@map("hire_developer_our_services")
}


model HomeWhyVedxReason {
  id          Int       @id @default(autoincrement())
  title       String
  description String    @db.Text
  image       String    @db.LongText

  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
}
